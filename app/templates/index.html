{% extends '_layout.html' %}
{% block content %}

<div class="row my-5 align-items-center"> <!--align-items-center-->
    <div>
        <img id="desenho" draggable="false" class="img-fluid rounded" src="{{ url_for('play_webcam') }}">
    </div>
    <div class="col">
        <div class="row">
            <div class="col" style="margin-left:10px;border:1px solid;border-color:gray;">
                <a class="btn btn-block btn-dark text-white my-3" onclick="">Carregar Imagem</a>
                <a class="btn btn-block btn-dark text-white my-2" onclick="get_differentiator()">Obter Diferenciador</a>
                <hr>
                <label class="my-1">Dados Obtidos:</label>
                <div id="red" class="alert alert-danger my-2" role="alert">Aguardando...</div>
                <div id="green" class="alert alert-success my-2" role="alert">Aguardando...</div>
                <div id="blue" class="alert alert-info" role="alert"> Aguardando... </div>
            </div>
            <div class="col" style="margin-left:10px;border:1px solid;border-color:gray;">
                <h5 class="my-2">Análise</h5>
                <form method="POST">
                    <div class="form-row">
                        <div class="col form-group my-3">
                            <label for="tempo" class="control-label">Tempo (seg)</label>
                            <input id="tempo" class="form-control" type="number" value="5" min="1"/>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col form-group my-2">
                            <label for="qtd" class="control-label">Nº de capturas/seg</label>
                            <input id="qtd" class="form-control" type="number" value="1" min="1"/>
                        </div>
                    </div>
                    <button type="button" onclick="start_analysis()" class="btn btn-lg btn-block btn-success text-white my-5">Iniciar</button>
                </form>
            </div>
        </div>
    </div>
</div>

    <script type="text/javascript">
        function start_analysis(){
            var xhttp = new XMLHttpRequest();
            xhttp.open("POST", "{{ url_for('get_differentiator') }}", true);
            xhttp.send();
        }
        {% include 'rectangle.js' %}
        {% include 'get_differentiator.js' %}
    </script>

{% endblock%}
<!--
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
        if (xhttp.readyState === XMLHttpRequest.DONE) {
            document.getElementById("demo").innerHTML = xhttp.responseText;
        }
    };
    xhttp.open("POST", "{{ url_for('drawing') }}", true);
    xhttp.send();
-->