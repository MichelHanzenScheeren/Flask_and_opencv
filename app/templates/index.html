{% extends '_layout.html' %}
{% block content %}

<div class="row mt-4 align-items-center"> <!--align-items-center-->
    <div>
        <img id="desenho" draggable="false" class="img-fluid rounded" src="{{ url_for('play_webcam') }}">
    </div>
    <div class="col">
        <div class="row">
            <div class="col" style="margin-left:10px;border:1px solid;border-color:gray;">
                <form enctype="multipart/form-data">
                    <input id="inputUploadImage" name="inputUploadImage" type="file" accept="image/png,image/jpeg" class="d-none"/>
                </form>
                <button id="buttonUploadImage" class="btn btn-block btn-dark text-white mt-3">Carregar Imagem</button>
                <button id="buttonGetDifferentiator" class="btn btn-block btn-dark text-white my-3">Obter Diferenciador</button>
                <hr>
                <label class="my-1">Dados Obtidos:</label>
                <div id="red" class="alert alert-danger my-2" role="alert">Aguardando...</div>
                <div id="green" class="alert alert-success my-2" role="alert">Aguardando...</div>
                <div id="blue" class="alert alert-info" role="alert"> Aguardando... </div>
            </div>
            <div class="col" style="margin-left:10px;border:1px solid;border-color:gray;">
                <h4 class="mt-3">Análise</h4>
                <form action="start_analysis" method="POST">
                    <div class="form-row">
                        <div class="col form-group my-3">
                            <label for="time" class="control-label">Tempo (seg)</label>
                            <input name="time" class="form-control" type="number" value="5" min="1"/>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col form-group my-2">
                            <label for="qtd" class="control-label">Nº de capturas/seg</label>
                            <input name="qtd" class="form-control" type="number" value="1" min="1"/>
                        </div>
                    </div>
                    <div id="div1">
                        <input disabled id="start" type="submit" value="INICIAR" onclick="config_analyze()" class="btn btn-lg btn-block btn-success mt-4">
                    </div>
                    <div id="div2" style="display:none">
                        <button type="button" disabled class="btn btn-lg btn-block btn-warning mt-4">
                            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                            &nbsp ANALISANDO...
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row mt-1 align-items-center">
    <div><label>X1:&nbsp</label></div>
    <div><input id="x1" type="number" style="width:3em;" value="0" min="0"></div>
    <div><label>&nbsp&nbspY1:&nbsp</label></div>
    <div><input id="y1" type="number" style="width:3em;" value="0" min="0"></div>
    <div><label>&nbsp&nbspX2:&nbsp</label></div>
    <div><input id="x2" type="number" style="width:3em;" value="0" min="0"></div>
    <div><label>&nbsp&nbspY2:&nbsp&nbsp</label></div>
    <div><input id="y2" type="number" style="width:3em;" value="0" min="0"></div>
    <div>
        <button id="refresh_button" type="button" onclick="refresh_rectangle()" class="ml-2 btn btn-info btn-sm btn-block">Atualizar</button></div>
    <div>
        <button id="clear_button" type="button" onclick="clear_rectangle()" class="ml-3 btn btn-warning btn-sm btn-block">Limpar</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script type="">
    {% include 'src/load_image.js' %}
    {% include 'src/analyze.js' %}
    {% include 'src/rectangle.js' %}
    {% include 'src/load_image.js' %}
</script>

{% endblock%}